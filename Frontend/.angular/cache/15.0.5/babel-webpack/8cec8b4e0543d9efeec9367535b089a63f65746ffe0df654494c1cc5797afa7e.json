{"ast":null,"code":"import { lastValueFrom } from 'rxjs';\nexport class APIClient {\n  constructor(http) {\n    this.http = http;\n    this.apiRoot = '';\n  }\n  post(method, args) {\n    return lastValueFrom(this.http.post(this.createMethodUrl(method), args));\n  }\n  put(method, args) {\n    return lastValueFrom(this.http.put(this.createMethodUrl(method), args));\n  }\n  get(method = '', args) {\n    return lastValueFrom(this.http.get(this.createMethodUrl(method), {\n      params: args,\n      observe: 'body',\n      responseType: 'json'\n    }));\n  }\n  getBlob(method, args) {\n    return lastValueFrom(this.http.get(this.createMethodUrl(method), {\n      params: args,\n      observe: 'body',\n      responseType: 'blob'\n    }));\n  }\n  delete(method, args) {\n    return lastValueFrom(this.http.delete(this.createMethodUrl(method), {\n      params: args,\n      observe: 'body'\n    }));\n  }\n  patch(method, args) {\n    return lastValueFrom(this.http.patch(this.createMethodUrl(method), args));\n  }\n  createMethodUrl(method) {\n    return method ? this.apiRoot + '/' + method : this.apiRoot;\n  }\n}","map":{"version":3,"mappings":"AACA,SAASA,aAAa,QAAQ,MAAM;AAEpC,OAAM,MAAOC,SAAS;EAIpBC,YAAsBC,IAAgB;IAAhB,SAAI,GAAJA,IAAI;IAFhB,YAAO,GAAG,EAAE;EAEoB;EAEnCC,IAAI,CAAIC,MAAc,EAAEC,IAAU;IACvC,OAAON,aAAa,CAAC,IAAI,CAACG,IAAI,CAACC,IAAI,CAAI,IAAI,CAACG,eAAe,CAACF,MAAM,CAAC,EAAEC,IAAI,CAAC,CAAC;EAC7E;EAEOE,GAAG,CAAIH,MAAc,EAAEC,IAAS;IACrC,OAAON,aAAa,CAAC,IAAI,CAACG,IAAI,CAACK,GAAG,CAAI,IAAI,CAACD,eAAe,CAACF,MAAM,CAAC,EAAEC,IAAI,CAAC,CAAC;EAC5E;EAEOG,GAAG,CAAIJ,SAAiB,EAAE,EAAEC,IAAU;IAC3C,OAAON,aAAa,CAAC,IAAI,CAACG,IAAI,CAACM,GAAG,CAAI,IAAI,CAACF,eAAe,CAACF,MAAM,CAAC,EAAE;MAAEK,MAAM,EAAEJ,IAAI;MAAEK,OAAO,EAAE,MAAM;MAAEC,YAAY,EAAE;IAAM,CAAE,CAAC,CAAC;EAC/H;EAEOC,OAAO,CAACR,MAAc,EAAEC,IAAU;IACvC,OAAON,aAAa,CAAC,IAAI,CAACG,IAAI,CAACM,GAAG,CAAC,IAAI,CAACF,eAAe,CAACF,MAAM,CAAC,EAAE;MAAEK,MAAM,EAAEJ,IAAI;MAAEK,OAAO,EAAE,MAAM;MAAEC,YAAY,EAAE;IAAM,CAAE,CAAC,CAAC;EAC5H;EAEOE,MAAM,CAAIT,MAAc,EAAEC,IAAU;IACzC,OAAON,aAAa,CAAC,IAAI,CAACG,IAAI,CAACW,MAAM,CAAI,IAAI,CAACP,eAAe,CAACF,MAAM,CAAC,EAAE;MAAEK,MAAM,EAAEJ,IAAI;MAAEK,OAAO,EAAE;IAAM,CAAE,CAAC,CAAC;EAC5G;EAEOI,KAAK,CAAIV,MAAc,EAAEC,IAAS;IACvC,OAAON,aAAa,CAAC,IAAI,CAACG,IAAI,CAACY,KAAK,CAAI,IAAI,CAACR,eAAe,CAACF,MAAM,CAAC,EAAEC,IAAI,CAAC,CAAC;EAC9E;EAEUC,eAAe,CAACF,MAAc;IACtC,OAAOA,MAAM,GAAI,IAAI,CAACW,OAAO,GAAG,GAAG,GAAGX,MAAM,GAAI,IAAI,CAACW,OAAO;EAC9D","names":["lastValueFrom","APIClient","constructor","http","post","method","args","createMethodUrl","put","get","params","observe","responseType","getBlob","delete","patch","apiRoot"],"sourceRoot":"","sources":["C:\\Projects\\MusicStore.Frontend\\src\\app\\services\\api-http.service.ts"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\r\nimport { lastValueFrom } from 'rxjs';\r\n\r\nexport class APIClient {\r\n\r\n  protected apiRoot = '';\r\n\r\n  constructor(protected http: HttpClient) { }\r\n\r\n  public post<T>(method: string, args?: any): Promise<T> {\r\n    return lastValueFrom(this.http.post<T>(this.createMethodUrl(method), args));\r\n  }\r\n\r\n  public put<T>(method: string, args: any): Promise<T> {\r\n    return lastValueFrom(this.http.put<T>(this.createMethodUrl(method), args));\r\n  }\r\n\r\n  public get<T>(method: string = '', args?: any): Promise<T> {\r\n    return lastValueFrom(this.http.get<T>(this.createMethodUrl(method), { params: args, observe: 'body', responseType: 'json' }));\r\n  }\r\n\r\n  public getBlob(method: string, args?: any): Promise<Blob> {\r\n    return lastValueFrom(this.http.get(this.createMethodUrl(method), { params: args, observe: 'body', responseType: 'blob' }));\r\n  }\r\n\r\n  public delete<T>(method: string, args?: any): Promise<T> {\r\n    return lastValueFrom(this.http.delete<T>(this.createMethodUrl(method), { params: args, observe: 'body' }));\r\n  }\r\n\r\n  public patch<T>(method: string, args: any): Promise<T> {\r\n    return lastValueFrom(this.http.patch<T>(this.createMethodUrl(method), args));\r\n  }\r\n\r\n  protected createMethodUrl(method: string): string {\r\n    return method ? (this.apiRoot + '/' + method) : this.apiRoot;\r\n  }\r\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}