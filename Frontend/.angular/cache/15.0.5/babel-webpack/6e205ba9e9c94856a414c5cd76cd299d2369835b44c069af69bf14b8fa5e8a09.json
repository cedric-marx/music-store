{"ast":null,"code":"import _asyncToGenerator from \"C:/Projects/MusicStore.Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Order } from '../models/order';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/product.service\";\nimport * as i2 from \"../services/order.service\";\nimport * as i3 from \"@angular/common\";\nfunction ProductComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"div\", 5)(2, \"div\", 6);\n    i0.ɵɵelement(3, \"img\", 7);\n    i0.ɵɵelementStart(4, \"div\", 8)(5, \"div\", 9)(6, \"h5\", 10);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\", 11);\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"br\");\n    i0.ɵɵelementStart(12, \"span\", 12);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(14, \"div\", 13)(15, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function ProductComponent_div_4_Template_button_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const product_r1 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.orderProduct(product_r1));\n    });\n    i0.ɵɵelement(16, \"i\", 15);\n    i0.ɵɵtext(17, \" Bestellen \");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const product_r1 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"src\", product_r1.imageUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(product_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(10, 4, product_r1.price, \"\\u20AC\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Nog \", product_r1.stock, \" beschikbaar\");\n  }\n}\nexport class ProductComponent {\n  constructor(productService, orderService) {\n    this.productService = productService;\n    this.orderService = orderService;\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      yield _this.getProducts();\n    })();\n  }\n  getProducts() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      yield _this2.productService.getAll().then(products => {\n        _this2.products = products;\n      });\n    })();\n  }\n  orderProduct(product) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      if (confirm(`Weet je zeker dat je ${product.name} wil bestellen?`)) {\n        yield _this3.orderService.create(new Order(product?.id));\n        alert(`Bestelling voor ${product.name} geplaatst!`);\n        yield _this3.getProducts();\n      }\n    })();\n  }\n}\nProductComponent.ɵfac = function ProductComponent_Factory(t) {\n  return new (t || ProductComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.OrderService));\n};\nProductComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductComponent,\n  selectors: [[\"app-product\"]],\n  decls: 5,\n  vars: 1,\n  consts: [[1, \"py-5\"], [1, \"fw-bolder\", \"display-5\", \"text-center\"], [1, \"container\", \"px-4\", \"px-lg-5\", \"mt-5\"], [\"class\", \"row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-center\", 4, \"ngFor\", \"ngForOf\"], [1, \"row\", \"gx-4\", \"gx-lg-5\", \"row-cols-2\", \"row-cols-md-3\", \"row-cols-xl-4\", \"justify-content-center\"], [1, \"col\", \"mb-5\"], [1, \"card\", \"h-100\"], [\"alt\", \"...\", 1, \"card-img-top\", \"pt-3\", 3, \"src\"], [1, \"card-body\", \"p-4\"], [1, \"text-center\"], [1, \"fw-bolder\", \"text-black\"], [1, \"text-black\"], [1, \"rockstar-yellow\"], [1, \"d-flex\", \"card-footer\", \"p-4\", \"pt-0\", \"border-top-0\", \"bg-transparent\", \"justify-content-center\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-dark\", \"flex-shrink-0\", 3, \"click\"], [1, \"bi-cart-fill\", \"me-1\"]],\n  template: function ProductComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0)(1, \"h1\", 1);\n      i0.ɵɵtext(2, \"PRODUCTEN\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 2);\n      i0.ɵɵtemplate(4, ProductComponent_div_4_Template, 18, 7, \"div\", 3);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.products);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.CurrencyPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";AACA,SAASA,KAAK,QAAQ,iBAAiB;;;;;;;;ICE/BC,8BAA4I;IAIhIA,yBAAwE;IAExEA,8BAA2B;IAGcA,YAAkB;IAAAA,iBAAK;IAExDA,gCAAyB;IAAAA,YAAmC;;IAAAA,iBAAO;IACnEA,sBAAK;IACLA,iCAA8B;IAAAA,aAAmC;IAAAA,iBAAO;IAIhFA,gCAA4F;IACvBA;MAAA;MAAA;MAAA;MAAA,OAASA,8CAAsB;IAAA,EAAC;IAC7FA,yBAAiC;IACjCA,4BACJ;IAAAA,iBAAS;;;;IAjBkBA,eAA4B;IAA5BA,sEAA4B;IAKlBA,eAAkB;IAAlBA,qCAAkB;IAE1BA,eAAmC;IAAnCA,uEAAmC;IAE9BA,eAAmC;IAAnCA,+DAAmC;;;ADL7F,OAAM,MAAOC,gBAAgB;EAI3BC,YAAsBC,cAA8B,EAAYC,YAA0B;IAApE,mBAAc,GAAdD,cAAc;IAA4B,iBAAY,GAAZC,YAAY;EAAiB;EAEvFC,QAAQ;IAAA;IAAA;MACZ,MAAM,KAAI,CAACC,WAAW,EAAE;IAAC;EAC3B;EAEMA,WAAW;IAAA;IAAA;MACf,MAAM,MAAI,CAACH,cAAc,CAACI,MAAM,EAAE,CAC/BC,IAAI,CAAEC,QAAmB,IAAI;QAC5B,MAAI,CAACA,QAAQ,GAAGA,QAAQ;MAC1B,CAAC,CAAC;IAAC;EACP;EAEMC,YAAY,CAACC,OAAgB;IAAA;IAAA;MACjC,IAAGC,OAAO,CAAC,wBAAwBD,OAAO,CAACE,IAAI,iBAAiB,CAAC,EAAE;QACjE,MAAM,MAAI,CAACT,YAAY,CAACU,MAAM,CAAC,IAAIf,KAAK,CAACY,OAAO,EAAEI,EAAE,CAAC,CAAC;QACtDC,KAAK,CAAC,mBAAmBL,OAAO,CAACE,IAAI,aAAa,CAAC;QAEnD,MAAM,MAAI,CAACP,WAAW,EAAE;;IACzB;EACH;;AAxBWL,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;QAAhBA,gBAAgB;EAAAgB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCX7BrB,kCAAsB;MAC0BA,yBAAS;MAAAA,iBAAK;MAC1DA,8BAAyC;MACrCA,kEAyBM;MACVA,iBAAM;;;MA1B8GA,eAAa;MAAbA,sCAAa","names":["Order","i0","ProductComponent","constructor","productService","orderService","ngOnInit","getProducts","getAll","then","products","orderProduct","product","confirm","name","create","id","alert","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Projects\\MusicStore.Frontend\\src\\app\\product\\product.component.ts","C:\\Projects\\MusicStore.Frontend\\src\\app\\product\\product.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Order } from '../models/order';\nimport { Product } from '../models/product';\nimport { OrderService } from '../services/order.service';\nimport { ProductService } from '../services/product.service';\n\n@Component({\n  selector: 'app-product',\n  templateUrl: './product.component.html',\n  styleUrls: ['./product.component.scss']\n})\nexport class ProductComponent implements OnInit {\n\n  products: Product[] | undefined;\n\n  constructor(protected productService: ProductService, protected orderService: OrderService) {}\n\n  async ngOnInit(): Promise<void> {\n    await this.getProducts();\n  }\n\n  async getProducts(): Promise<void> {\n    await this.productService.getAll()\n      .then((products: Product[]) => {\n        this.products = products;\n      });\n  }\n\n  async orderProduct(product: Product): Promise<void> {\n    if(confirm(`Weet je zeker dat je ${product.name} wil bestellen?`)) {\n      await this.orderService.create(new Order(product?.id));\n      alert(`Bestelling voor ${product.name} geplaatst!`);\n      \n      await this.getProducts();\n    }\n  }\n}\n","<section class=\"py-5\">\n    <h1 class=\"fw-bolder display-5 text-center\">PRODUCTEN</h1>\n    <div class=\"container px-4 px-lg-5 mt-5\">\n        <div class=\"row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-center\" *ngFor=\"let product of products; let i = index\">\n            <div class=\"col mb-5\">\n                <div class=\"card h-100\">\n                    <!-- Product image-->\n                    <img class=\"card-img-top pt-3\" src=\"{{ product.imageUrl }}\" alt=\"...\" />\n                    <!-- Product details-->\n                    <div class=\"card-body p-4\">\n                        <div class=\"text-center\">\n                            <!-- Product name-->\n                            <h5 class=\"fw-bolder text-black\">{{ product.name }}</h5>\n                            <!-- Product price-->\n                            <span class=\"text-black\">{{ product.price | currency: '€' }}</span>\n                            <br/>\n                            <span class=\"rockstar-yellow\">Nog {{ product.stock }} beschikbaar</span>\n                        </div>\n                    </div>\n                    <!-- Product actions-->\n                    <div class=\"d-flex card-footer p-4 pt-0 border-top-0 bg-transparent justify-content-center\">\n                        <button class=\"btn btn-outline-dark flex-shrink-0\" type=\"button\" (click)=\"orderProduct(product!)\">\n                            <i class=\"bi-cart-fill me-1\"></i>\n                            Bestellen\n                        </button>                    \n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</section>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}